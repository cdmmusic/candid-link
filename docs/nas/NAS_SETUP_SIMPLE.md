# 🚀 NAS 설치 가이드 (초보자용)

> 중학생도 따라할 수 있는 쉬운 설명!

---

## 📌 준비물

1. **Synology NAS** (또는 Docker 지원되는 NAS)
2. **컴퓨터** (Mac/Windows 상관없음)
3. **파일 1개**: `nas-deploy.tar.gz`
4. **시간**: 10분

---

## 🎯 3단계로 끝내기

---

## ✅ 1단계: 파일 올리기 (3분)

### 방법 1: 마우스로 끌어다 놓기 (가장 쉬움!)

1. **파인더(맥) 또는 탐색기(윈도우)** 열기
2. 좌측에서 **NAS 이름** 클릭 (예: `192.168.0.100`)
3. `docker` 폴더 열기 (없으면 만들기)
4. `nas-deploy.tar.gz` 파일을 **드래그해서 넣기**

### 방법 2: 웹 브라우저 사용

1. 브라우저에서 **NAS 주소** 입력 (예: `http://192.168.0.100:5000`)
2. **File Station** 앱 열기
3. `docker` 폴더로 이동 (없으면 만들기)
4. **업로드 버튼** 클릭 → `nas-deploy.tar.gz` 선택

✅ **완료!** 파일이 NAS에 올라갔어요!

---

## ✅ 2단계: 압축 풀고 설치하기 (5분)

### SSH로 NAS 접속하기

#### Mac 사용자:
1. **터미널** 앱 열기 (Spotlight에서 "터미널" 검색)
2. 아래 명령어 입력 (NAS 주소는 본인 것으로 바꾸기):
```bash
ssh admin@192.168.0.100
```
3. 비밀번호 입력 (NAS 관리자 비밀번호)

#### Windows 사용자:
1. **PowerShell** 또는 **PuTTY** 열기
2. Mac과 동일하게 진행

---

### 한 줄씩 따라하기

**복사해서 붙여넣기만 하면 됩니다!**

```bash
# 1. docker 폴더로 이동
cd /volume1/docker

# 2. album-links 폴더 만들고 들어가기
mkdir album-links
cd album-links

# 3. 압축 파일 가져오기
mv ../nas-deploy.tar.gz .

# 4. 압축 풀기
tar -xzf nas-deploy.tar.gz

# 5. 파일 확인 (잘 풀렸는지 체크)
ls -la
```

👀 **이렇게 나오면 성공:**
```
.env
docker-compose.yml
setup-nas.sh
...
```

---

### 환경 설정 파일 수정

**딱 3줄만 수정하면 됩니다!**

```bash
# 파일 열기
nano .env
```

**수정할 부분 (화살표 부분만!):**

```bash
# 1번: 데이터베이스 주소 (이미 입력되어 있음)
TURSO_DATABASE_URL=libsql://album-links-cdmmusic.turso.io

# 2번: 비밀번호 (아래에서 복사해서 붙여넣기)
TURSO_AUTH_TOKEN=여기에_토큰_붙여넣기  ← 이것만 바꾸세요!

# 3번: n8n 비밀번호 (원하는 비밀번호로 변경)
N8N_BASIC_AUTH_PASSWORD=changeme  ← 이것만 바꾸세요!
```

**저장하고 나가기:**
- `Ctrl + O` (저장)
- `Enter` (확인)
- `Ctrl + X` (나가기)

---

### 자동 설치 시작!

```bash
# 자동 설치 실행
bash setup-nas.sh
```

✅ 초록색으로 체크 표시가 나오면 성공!

---

## ✅ 3단계: 실행하기 (2분)

### Docker 시작!

```bash
# 실행 명령어 (한 줄 복사해서 붙여넣기)
docker-compose up -d
```

⏳ 잠깐 기다리면... (30초~1분)

### 확인하기

```bash
# 잘 실행되고 있는지 확인
docker-compose ps
```

**이렇게 나오면 성공! 🎉**
```
NAME                      STATUS
album-links-n8n           Up
album-links-companion-api Up
album-links-selenium      Up
album-links-collector     Up
```

---

## 🌐 웹에서 접속하기

1. **브라우저 열기** (크롬, 사파리 등)
2. 주소창에 입력:
```
http://192.168.0.100:8678
```
(본인 NAS 주소로 바꾸기)

3. **로그인**
   - 아이디: `admin`
   - 비밀번호: (아까 설정한 비밀번호)

✅ **로그인되면 성공!** 🎊

---

## 🆘 문제가 생겼을 때

### 문제 1: "SSH 접속이 안 돼요!"
**해결:**
1. NAS 제어판 → 터미널 및 SNMP
2. SSH 서비스 활성화 체크
3. 다시 시도

### 문제 2: "비밀번호를 틀렸어요!"
**해결:**
1. NAS 관리자 비밀번호 확인
2. 대소문자 구분 주의

### 문제 3: "포트 8678이 사용 중이래요!"
**해결:**
```bash
# 포트 변경 도우미 실행
bash change-ports.sh
# → 1번 선택 (자동으로 다른 포트로 변경)
```

### 문제 4: "웹 페이지가 안 열려요!"
**해결:**
1. 방화벽 확인
   - NAS 제어판 → 보안 → 방화벽
   - 포트 8678 허용
2. NAS IP 주소 확인
   - 제어판 → 네트워크 → 네트워크 인터페이스
3. 잠깐 기다리기 (처음엔 1~2분 걸림)

### 문제 5: "다 했는데 작동이 안 해요!"
**해결:**
```bash
# 로그 확인 (무슨 문제인지 볼 수 있음)
docker-compose logs -f

# 재시작 (대부분 해결됨)
docker-compose restart
```

---

## 📱 자주 묻는 질문 (FAQ)

### Q1: NAS 주소가 뭐예요?
**A:**
- NAS 제어판 → 네트워크에서 확인
- 보통 `192.168.0.XXX` 형태
- 아니면 `192.168.1.XXX`

### Q2: 비밀번호를 잊어버렸어요!
**A:**
```bash
# .env 파일 다시 열어서 확인
nano .env
# N8N_BASIC_AUTH_PASSWORD 줄 찾기
```

### Q3: 나중에 어떻게 끄나요?
**A:**
```bash
# 중지
docker-compose down

# 다시 시작
docker-compose up -d
```

### Q4: 삭제하고 싶어요!
**A:**
```bash
# 전부 삭제
cd /volume1/docker/album-links
docker-compose down -v
cd ..
rm -rf album-links
```

### Q5: 외부(집 밖)에서도 접속하고 싶어요!
**A:**
1. 공유기 설정 → 포트 포워딩
2. 포트 8678을 NAS로 전달
3. 공인 IP 확인 (구글에서 "내 아이피" 검색)
4. `http://공인IP:8678` 접속

⚠️ **보안 주의**: 강력한 비밀번호 사용 필수!

---

## 🎓 용어 설명

- **SSH**: 컴퓨터를 원격으로 조종하는 방법
- **Docker**: 프로그램을 쉽게 실행하는 도구
- **포트**: 문 번호 (8678번 문으로 들어가세요~)
- **n8n**: 자동화 프로그램 (우리가 사용할 거)
- **Turso**: 데이터를 저장하는 클라우드

---

## ✨ 완료 체크리스트

- [ ] 1단계: 파일 업로드 완료
- [ ] 2단계: 압축 풀기 완료
- [ ] 2단계: .env 파일 수정 완료
- [ ] 2단계: setup-nas.sh 실행 완료
- [ ] 3단계: docker-compose 실행 완료
- [ ] 3단계: 웹 접속 성공
- [ ] 로그인 성공

**모두 체크되면 성공! 🎉**

---

## 📞 도움 받기

- 부모님/선생님께 도움 요청
- 에러 메시지 캡처해서 검색
- NAS 제조사 고객센터 문의

---

**작성일**: 2025-10-14
**난이도**: ⭐☆☆☆☆ (매우 쉬움)
**예상 시간**: 10분
**필요한 지식**: 복사-붙여넣기만 할 줄 알면 됨!

**화이팅! 당신은 할 수 있어요! 💪**
